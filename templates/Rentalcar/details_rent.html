{% extends "cars/base.html" %}

{% block content %}
<style>
/* Neon Gradient Background */
body {
    background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
    color: #fff;
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 20px;
}

/* Centered Container */
.container {
    max-width: 700px;
    margin: auto;
    padding: 30px;
    border-radius: 20px;
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid #3333ff;
    box-shadow: 0 0 20px #3333ff, 0 0 40px #ff00cc;
}

/* Title Styling */
h2 {
    text-align: center;
    font-size: 2rem;
    color: #fff;
    text-shadow: 0 0 10px #00f0ff, 0 0 20px #00f0ff, 0 0 40px #00f0ff;
    margin-bottom: 25px;
}

/* Section Divider */
hr {
    border: none;
    height: 2px;
    background: linear-gradient(90deg, transparent, #ff00cc, #3333ff, transparent);
    margin: 25px 0;
}

/* Paragraphs */
p {
    font-size: 1.1rem;
    margin: 10px 0;
}

/* Input Fields */
input[type="number"] {
    padding: 8px 12px;
    border: 2px solid #00f0ff;
    border-radius: 10px;
    background: transparent;
    color: #fff;
    font-size: 1rem;
    outline: none;
    transition: 0.3s ease-in-out;
    width: 200px;
    box-shadow: 0 0 5px #00f0ff, 0 0 10px #00f0ff inset;
}

input[type="number"]:focus {
    border-color: #ff00cc;
    box-shadow: 0 0 8px #ff00cc, 0 0 20px #ff00cc inset;
}

/* Submit Button */
button ,a{
    padding: 10px 25px;
    border: none;
    background: linear-gradient(90deg, #ff00cc, #3333ff);
    color: white;
    font-size: 1.1rem;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease-in-out;
    box-shadow: 0 0 10px #ff00cc, 0 0 20px #3333ff;
    margin-top: 10px;
    
}

button:hover ,a:hover {
    background: linear-gradient(90deg, #00f0ff, #ff00cc);
    box-shadow: 0 0 15px #00f0ff, 0 0 25px #ff00cc;
    transform: scale(1.05);
}

/* Result Section */
h4 {
    font-size: 1.4rem;
    margin-top: 20px;
    color: #00f0ff;
    text-shadow: 0 0 10px #00f0ff;
}

.result-box {
    padding: 15px;
    border-radius: 15px;
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid #3333ff;
    box-shadow: 0 0 15px #3333ff;
    margin-top: 15px;
}

/* Warning Message */
.text-danger {
    color: #ff4d4d;
    font-weight: bold;
    text-shadow: 0 0 8px #ff0000;
}
</style>

<div class="container">
    <h2>Rent Details For {{ car.car_name }} - {{ car.company }}</h2>

    <p><strong>Fuel Type:</strong> {{ car.fuel_type }}</p>
    <p><strong>Total Km Driven:</strong> {{ car.total_km_driven }}</p>
    <p><strong>Total Km Per Day:</strong> 300 km</p>
    <p><strong>Amount per Km:</strong> {{ rate }} ₹</p>

    <hr>

    <form method="POST">
        {% csrf_token %}
        <p><strong>Total No. of Days:</strong>
            <input type="number" name="days" value="{{ days|default:'' }}" required>
        </p>

        <p><strong>Expected Km:</strong>
            <input type="number" name="expected_km" value="{{ expected_km|default:'' }}" required>
        </p>

        <div style="display: flex; gap: 60%;">
            <button type="submit" class="btn btn-primary">Calculate</button>
            <a href="{% url 'finalprice' car.pk %}" class="btn btn-primary" target="_blank">Final Price</a>
        </div>

    </form>

    {% if total_cost %}
        <hr>
        <h4>Calculation Result</h4>
        <div class="result-box">
            <p><strong>Rate (per Km):</strong> {{ rate }} ₹</p>
            <p><strong>Total Cost:</strong> {{ total_cost }} ₹</p>

            {% if warning %}
                <p class="text-danger"><strong>Note:</strong> {{ warning }}</p>
            {% endif %}
        </div>
    {% endif %}
</div>
{% endblock content %}
